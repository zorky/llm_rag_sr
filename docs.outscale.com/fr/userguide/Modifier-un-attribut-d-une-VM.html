<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Modifier un attribut d&#8217;une VM – Documentation publique OUTSCALE</title>
    <link rel="canonical" href="Modifier-un-attribut-d-une-VM.html">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/outscale.css">
    <link rel="stylesheet" media="screen" href="../../_/css/vendor/jstable.min.css">
    <link rel="shortcut icon" href="../../_/img/favicon.ico">
    <link rel="search" type="application/opensearchdescription+xml" href="_xml/opensearch.xml" title="OUTSCALE Docs FR">
    <meta name="page-component" content="fr">
    <meta name="page-version" content="">
    <meta name="page-url" content="/fr/userguide/Modifier-un-attribut-d-une-VM.html">
    <!-- Matomo -->
    <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
        _paq.push(['setTrackerUrl', 'https://outscale.matomo.cloud/matomo.php']);
        _paq.push(['setSiteId', '15']);
        _paq.push(['HeatmapSessionRecording::disable']);
    })();
    </script>
    <script async defer src="../../_/js/vendor/matomo.min.js"></script>
    <!-- End Matomo Code -->
  </head>
  <body class="article">
    <header class="header" role="banner">
      <nav id="top-menu" aria-label="Main Navigation">
          <button id="top-menu-button" aria-expanded="false" aria-controls="entry-0">
            <span></span>
          </button>
          <ul id="entry-0">
              <li class="logo entry">
                  <a href="https://fr.outscale.com"><img src="../../_/img/logo.svg" alt="Logo"></a>
              </li>
              <li class="entry">
                <a href="Accueil.html">Docs</a>
              </li>
              <li class="entry">
                <a href="../../api%3Fconsole.html">API</a>
              </li>
              <li class="dropdown entry">
                  <button aria-expanded="false" aria-controls="entry-3">Compatibilité AWS</button>
                  <ul id="entry-3">
                      <li><a href="../../fcu.html">FCU</a></li>
                      <li><a href="../../lbu.html">LBU</a></li>
                      <li><a href="../../eim.html">EIM</a></li>
                      <li><a href="../../icu.html">ICU</a></li>
                      <li><a href="../../directlink.html">DirectLink</a></li>
                      <li><a href="Référence-API-OOS.html">OOS</a></li>
                      <li><a href="Matrice-de-compatibilité-avec-AWS.html">Matrice de compatibilité</a></li>
                  </ul>
              </li>
                            <li class="dropdown entry">
                  <button aria-expanded="false" aria-controls="entry-4">Outils</button>
                  <ul id="entry-4">
                      <li><a href="À-propos-de-Cockpit.html">Cockpit</a></li>
                      <li><a href="Installer-et-configurer-OSC-CLI.html">Interface en ligne de commande (CLI)</a></li>
                      <li><a href="Terraform.html">Terraform</a></li>
                      <li><a href="https://www.packer.io/docs/builders/outscale.html" target="_blank" rel="noopener">Packer</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-python" target="_blank" rel="noopener">SDK pour Python</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-go" target="_blank" rel="noopener">SDK pour Go</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-js" target="_blank" rel="noopener">SDK pour JavaScript</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-rust" target="_blank" rel="noopener">SDK pour Rust</a></li>
                      <li><a href="https://github.com/outscale/frieza" target="_blank" rel="noopener">Frieza</a></li>
                      <li><a href="https://github.com/outscale/osc-logs" target="_blank" rel="noopener">osc-logs</a></li>
                      <li><a href="https://github.com/outscale/osc-libcurl-examples" target="_blank" rel="noopener">Utiliser l&#x27;API OUTSCALE avec libcurl</a></li>
                  </ul>
              </li>
                            <li class="entry">
                <a href="https://support.outscale.com/hc/fr-fr" target="_blank" rel="noopener">FAQ</a>
              </li>
              <li class="entry">
                <a href="Notes-de-mise-à-jour.html">Notes de mise à jour</a>
              </li>
              <li class="right dropdown entry">
                  <button aria-expanded="false" aria-controls="entry-lang">Français<span class="fa fa-globe fa-fw"></span></button>
                  <ul id="entry-lang">
                      <li><a href="../../en/userguide/Modifying-a-VM-Attribute.html">English</a></li>
                  </ul>
              </li>
              <form id="search-field" class="right entry field has-filter" action="https://docs.outscale.com/fr/userguide/Recherche.html" autocomplete="off">
                  <a>
                    <input id="search-input" name="q" type="text" placeholder="Rechercher"><button type="submit" value=""></button>
                  </a>
                  <input type="checkbox" data-facet-filter="component:fr" checked style="display: none">
              </form>
          </ul>
      </nav>
      <button class="nav-toggle"></button>
    </header>
<div class="body">
<div class="nav-container">
  <aside class="nav">
    <nav class="nav-panel-menu nav-menu is-active"></nav>
    <div data-panel="menu"></div>
  </aside>
</div>

<main class="article">
  <div class="content ">
<aside class="toc sidebar" data-title="Sommaire" data-levels="3">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Modifier un attribut d&#8217;une VM</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Vous pouvez modifier un attribut d&#8217;une <span class="tooltip" data-tooltip="instance dans les API AWS-compliant">machine virtuelle (VM)</span>, tel que son type, ses user data ou son paramètre de suppression. Selon l&#8217;attribut que vous voulez modifier, la VM doit être en fonctionnement ou à l&#8217;arrêt.</p>
</div>
</div>
</div>
<div class="sect1 tab">
<h2 id="Cockpit v2_0"><a class="anchor" href="Modifier-un-attribut-d-une-VM.html#Cockpit v2_0"></a>Modifier un attribut d&#8217;une VM avec Cockpit v2</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Avant de commencer :</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pour modifier l&#8217;attribut Type de <span class="tooltip" data-tooltip="instance dans les API AWS-compliant">VM</span>, vous devez arrêter la VM.</p>
</li>
<li>
<p>Les autres attributs peuvent être modifiés lorsque la VM est en fonctionnement ou à l&#8217;arrêt.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pour en savoir plus, voir <a href="Arrêter-et-démarrer-des-VM.html" class="xref page">Arrêter et démarrer des VM</a> et <a href="À-propos-des-VM.html#_les_attributs_des_vm" class="xref page">À propos des VM &gt; Les attributs des VM</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Dans le dashboard <strong>VMs</strong>, cochez la case de la VM dont vous voulez modifier les attributs.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Remarque"></i>
</td>
<td class="content">
<div class="paragraph">
<p>La multisélection est disponible.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>La VM est sélectionnée.</p>
</div>
</li>
<li>
<p>Placez le curseur de la souris sur <span class="image"><img src="_images/IconEdit.svg" alt="IconEdit"></span> <strong>Mettre à jour la VM</strong>.<br>
Les attributs modifiables apparaissent.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_optionnel_modifier_les_security_groups_associés_à_la_vm"><a class="anchor" href="Modifier-un-attribut-d-une-VM.html#_optionnel_modifier_les_security_groups_associés_à_la_vm"></a>(optionnel) Modifier les security groups associés à la VM</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Cliquez sur <span class="image"><img src="_images/IconSecurityGroup.svg" alt="IconSecurityGroup"></span> <strong>Security Groups</strong>.<br>
La boîte de dialogue METTRE À JOUR LES SECURITY GROUPS apparaît.</p>
</li>
<li>
<p>Cliquez dans le champ pour faire apparaître la liste des security groups.<br>
Dans la liste, sélectionnez le ou les security group(s) que vous voulez associer à la VM.</p>
</li>
<li>
<p>Pour dissocier un security group d&#8217;une VM, cliquez sur <span class="image"><img src="_images/IconClose.svg" alt="IconClose"></span> à côté du nom du security group.</p>
</li>
<li>
<p>Cliquez sur <strong>Modifier</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_optionnel_modifier_le_type_de_vm"><a class="anchor" href="Modifier-un-attribut-d-une-VM.html#_optionnel_modifier_le_type_de_vm"></a>(optionnel) Modifier le type de VM</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Cliquez sur <span class="image"><img src="_images/IconEdit.svg" alt="IconEdit"></span> <strong>Type de VM</strong>.<br>
La boîte de dialogue METTRE À JOUR LE TYPE DE LA VM apparaît.</p>
</li>
<li>
<p>Spécifiez les attributs suivants pour votre VM :</p>
<div class="ulist">
<ul>
<li>
<p><strong>Génération du CPU :</strong> La génération du processeur.</p>
</li>
<li>
<p><strong>Performance :</strong> L&#8217;indicateur de performance.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Remarque"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Très haute : Capacité de calcul maximum sur tous les vCPU de la VM. Cette valeur est idéale pour les applications de calcul intensif demandant des performances stables durant le cycle de vie de la VM.</p>
</li>
<li>
<p>Haute : Haute capacité de calcul sur tous les vCPU de la VM. Cette valeur s&#8217;applique à la plupart des cas et offre des performances variables dans le temps.</p>
</li>
<li>
<p>Moyenne : Performance à variation significative sur tous les vCPU de la VM. Cette valeur ne garantit pas des performances constantes, mais est idéale pour les machines à faible demande CPU.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>Cœur(s) :</strong> Le nombre de vCores, jusqu&#8217;à 78.</p>
</li>
<li>
<p><strong>Mémoire (Gio) :</strong> La quantité de mémoire, jusqu&#8217;à 1039 Gio.</p>
</li>
</ul>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Pour en savoir plus sur les types de VM, voir <a href="Types-de-VM.html" class="xref page">Types de VM</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pour fonctionner correctement, les VM Windows nécessitent au moins un processeur de génération v3, 2 vCores et 4 Gio de mémoire.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>Cliquez sur <strong>Modifier</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_optionnel_modifier_le_comportement_de_la_vm_à_sa_coupure"><a class="anchor" href="Modifier-un-attribut-d-une-VM.html#_optionnel_modifier_le_comportement_de_la_vm_à_sa_coupure"></a>(optionnel) Modifier le comportement de la VM à sa coupure</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Cliquez sur <span class="image"><img src="_images/IconForceStop.svg" alt="IconForceStop"></span> <strong>Comportement à la coupure</strong>.<br>
La boîte de dialogue METTRE À JOUR LE COMPORTEMENT À LA COUPURE apparaît.</p>
</li>
<li>
<p>Dans la liste, sélectionnez une des valeurs suivantes :</p>
<div class="ulist">
<ul>
<li>
<p><code>Arrêter</code> : Lorsque vous coupez la VM, celle-ci s&#8217;arrête.</p>
</li>
<li>
<p><code>Terminer</code> : Lorsque vous coupez la VM, celle-ci s&#8217;arrête et est terminée.</p>
</li>
<li>
<p><code>Redémarrer</code> : Lorsque vous coupez la VM, celle-ci s&#8217;arrête et redémarre automatiquement.</p>
<div class="paragraph">
<p>Pour en savoir plus, voir <a href="À-propos-du-cycle-de-vie-des-VM.html#_suppression" class="xref page">À propos du cycle de vie des VM &gt; Suppression</a>.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Cliquez sur <strong>Modifier</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_optionnel_modifier_la_protection_contre_la_suppression_de_la_vm"><a class="anchor" href="Modifier-un-attribut-d-une-VM.html#_optionnel_modifier_la_protection_contre_la_suppression_de_la_vm"></a>(optionnel) Modifier la protection contre la suppression de la VM</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Cliquez sur l&#8217;onglet <span class="image"><img src="_images/IconDeletionProtection.svg" alt="IconDeletionProtection"></span> <strong>Protection contre suppression</strong>.<br>
La boîte de dialogue METTRE À JOUR LA PROTECTION CONTRE SUPPRESSION apparaît.</p>
</li>
<li>
<p>Activez ou désactivez le bouton :</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>S&#8217;il est sur activé, vous ne pouvez pas supprimer la VM.</p>
</li>
<li>
<p>S&#8217;il est sur désactivé, vous pouvez la supprimer avec n&#8217;importe quelle interface.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Cliquez sur <strong>Modifier</strong>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1 tab">
<h2 id="OSC CLI_1"><a class="anchor" href="Modifier-un-attribut-d-une-VM.html#OSC CLI_1"></a>Modifier un attribut d&#8217;une VM avec OSC CLI</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Avant de commencer :</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pour modifier les attributs <code>VmType</code>, <code>UserData</code>, <code>Performance</code> et <code>NestedVirtualization</code>, vous devez arrêter la <span class="tooltip" data-tooltip="instance dans les API AWS-compliant">VM</span>.</p>
</li>
<li>
<p>Les autres attributs peuvent être modifiés lorsque la VM est en fonctionnement ou à l&#8217;arrêt.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pour en savoir plus, voir <a href="Arrêter-et-démarrer-des-VM.html" class="xref page">Arrêter et démarrer des VM</a> et <a href="À-propos-des-VM.html#_les_attributs_des_vm" class="xref page">À propos des VM &gt; Les attributs des VM</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Remarque"></i>
</td>
<td class="content">
<div class="paragraph">
<p>À ce jour, cette section est disponible en anglais uniquement.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <strong>UpdateVm</strong> command modifies the specified attributes of a virtual machine (VM).<br>
You must stop the VM before modifying the following attributes:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NestedVirtualization</code><br></p>
</li>
<li>
<p><code>Performance</code><br></p>
</li>
<li>
<p><code>UserData</code><br></p>
</li>
<li>
<p><code>VmType</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Request sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ osc-cli api UpdateVm --profile "default" \
    --VmId "i-12345678" \
    --VmType "tinav5.c2r2p2"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Request sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ osc-cli api UpdateVm --profile "default" \
    --VmId "i-12345678" \
    --UserData "$(base64 -i user_data.txt)"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command contains the following attributes that you need to specify:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BlockDeviceMappings</code>: (optional) One or more block device mappings of the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>Bsu</code>: (optional) Information about the BSU volume.</p>
<div class="ulist">
<ul>
<li>
<p><code>DeleteOnVmDeletion</code>: (optional) If set to true, the volume is deleted when terminating the VM. If set to false, the volume is not deleted when terminating the VM.</p>
</li>
<li>
<p><code>VolumeId</code>: (optional) The ID of the volume.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>DeviceName</code>: (optional) The device name for the volume. For a root device, you must use <code>/dev/sda1</code>. For other volumes, you must use <code>/dev/sdX</code>, <code>/dev/sdXX</code>, <code>/dev/xvdX</code>, or <code>/dev/xvdXX</code> (where the first <code>X</code> is a letter between <code>b</code> and <code>z</code>, and the second <code>X</code> is a letter between <code>a</code> and <code>z</code>).</p>
</li>
<li>
<p><code>NoDevice</code>: (optional) Removes the device which is included in the block device mapping of the OMI.</p>
</li>
<li>
<p><code>VirtualDeviceName</code>: (optional) The name of the virtual device (<code>ephemeralN</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>BsuOptimized</code>: (optional) This parameter is not available. It is present in our API for the sake of historical compatibility with AWS.</p>
</li>
<li>
<p><code>DeletionProtection</code>: (optional) If true, you cannot delete the VM unless you change this parameter back to false.</p>
</li>
<li>
<p><code>DryRun</code>: (optional) If true, checks whether you have the required permissions to perform the action.</p>
</li>
<li>
<p><code>IsSourceDestChecked</code>: (optional) (<span class="tooltip" data-tooltip="Virtual Private Cloud (VPC) dans les API AWS-compliant">Net</span> only) If true, the source/destination check is enabled. If false, it is disabled.</p>
</li>
<li>
<p><code>KeypairName</code>: (optional) The name of a keypair you want to associate with the VM.<br>
When you replace the keypair of a VM with another one, the metadata of the VM is modified to reflect the new public key, but the replacement is still not effective in the operating system of the VM. To complete the replacement and effectively apply the new keypair, you need to perform other actions inside the VM. For more information, see <a href="../../en/userguide/Modifying-the-Keypair-of-a-VM.html" target="_blank" rel="noopener">Modifying the Keypair of a VM</a>.</p>
</li>
<li>
<p><code>NestedVirtualization</code>: (optional) (dedicated tenancy only) If true, nested virtualization is enabled. If false, it is disabled.</p>
</li>
<li>
<p><code>Performance</code>: (optional) The performance of the VM (<code>medium</code> | <code>high</code> |  <code>highest</code>).</p>
</li>
<li>
<p><code>SecurityGroupIds</code>: (optional) One or more IDs of security groups for the VM.</p>
</li>
<li>
<p><code>UserData</code>: (optional) The Base64-encoded MIME user data, limited to 500 kibibytes (KiB).</p>
</li>
<li>
<p><code>VmId</code>: The ID of the VM.</p>
</li>
<li>
<p><code>VmInitiatedShutdownBehavior</code>: (optional) The VM behavior when you stop it. If set to <code>stop</code>, the VM stops. If set to <code>restart</code>, the VM stops then automatically restarts. If set to <code>terminate</code>, the VM stops and is terminated.</p>
</li>
<li>
<p><code>VmType</code>: (optional) The type of VM. For more information, see <a href="../../en/userguide/VM-Types.html" target="_blank" rel="noopener">VM Types</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <strong>UpdateVm</strong> command returns the following elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ResponseContext</code>: Information about the context of the response.</p>
<div class="ulist">
<ul>
<li>
<p><code>RequestId</code>: The ID of the request.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>Vm</code>: Information about the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>Architecture</code>: The architecture of the VM (<code>i386</code> | <code>x86_64</code>).</p>
</li>
<li>
<p><code>BlockDeviceMappings</code>: The block device mapping of the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>Bsu</code>: Information about the created BSU volume.</p>
<div class="ulist">
<ul>
<li>
<p><code>DeleteOnVmDeletion</code>: If true, the volume is deleted when terminating the VM. If false, the volume is not deleted when terminating the VM.</p>
</li>
<li>
<p><code>LinkDate</code>: The date and time (UTC) at which the volume was attached to the VM, in ISO 8601 date-time format.</p>
</li>
<li>
<p><code>State</code>: The state of the volume.</p>
</li>
<li>
<p><code>VolumeId</code>: The ID of the volume.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>DeviceName</code>: The name of the device.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>BsuOptimized</code>: This parameter is not available. It is present in our API for the sake of historical compatibility with AWS.</p>
</li>
<li>
<p><code>ClientToken</code>: The idempotency token provided when launching the VM.</p>
</li>
<li>
<p><code>CreationDate</code>: The date and time (UTC) at which the VM was created.</p>
</li>
<li>
<p><code>DeletionProtection</code>: If true, you cannot delete the VM unless you change this parameter back to false.</p>
</li>
<li>
<p><code>Hypervisor</code>: The hypervisor type of the VMs (<code>ovm</code> | <code>xen</code>).</p>
</li>
<li>
<p><code>ImageId</code>: The ID of the OMI used to create the VM.</p>
</li>
<li>
<p><code>IsSourceDestChecked</code>: (Net only) If true, the source/destination check is enabled. If false, it is disabled.</p>
</li>
<li>
<p><code>KeypairName</code>: The name of the keypair used when launching the VM.</p>
</li>
<li>
<p><code>LaunchNumber</code>: The number for the VM when launching a group of several VMs (for example, <code>0</code>, <code>1</code>, <code>2</code>, and so on).</p>
</li>
<li>
<p><code>NestedVirtualization</code>: If true, nested virtualization is enabled. If false, it is disabled.</p>
</li>
<li>
<p><code>NetId</code>: The ID of the Net in which the VM is running.</p>
</li>
<li>
<p><code>Nics</code>: (Net only) The <span class="tooltip" data-tooltip="flexible network interface (FNI) dans les API AWS-compliant">network interface cards (NICs)</span> the VMs are attached to.</p>
<div class="ulist">
<ul>
<li>
<p><code>AccountId</code>: The account ID of the owner of the NIC.</p>
</li>
<li>
<p><code>Description</code>: The description of the NIC.</p>
</li>
<li>
<p><code>IsSourceDestChecked</code>: (Net only) If true, the source/destination check is enabled. If false, it is disabled.</p>
</li>
<li>
<p><code>LinkNic</code>: Information about the network interface card (NIC).</p>
<div class="ulist">
<ul>
<li>
<p><code>DeleteOnVmDeletion</code>: If true, the NIC is deleted when the VM is terminated.</p>
</li>
<li>
<p><code>DeviceNumber</code>: The device index for the NIC attachment (between <code>1</code> and <code>7</code>, both included).</p>
</li>
<li>
<p><code>LinkNicId</code>: The ID of the NIC to attach.</p>
</li>
<li>
<p><code>State</code>: The state of the attachment (<code>attaching</code> | <code>attached</code> | <code>detaching</code> | <code>detached</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>LinkPublicIp</code>: Information about the <span class="tooltip" data-tooltip="External IP (EIP) dans les API AWS-compliant">public IP</span> associated with the NIC.</p>
<div class="ulist">
<ul>
<li>
<p><code>PublicDnsName</code>: The name of the public DNS.</p>
</li>
<li>
<p><code>PublicIp</code>: The public IP associated with the NIC.</p>
</li>
<li>
<p><code>PublicIpAccountId</code>: The account ID of the owner of the public IP.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>MacAddress</code>: The Media Access Control (MAC) address of the NIC.</p>
</li>
<li>
<p><code>NetId</code>: The ID of the Net for the NIC.</p>
</li>
<li>
<p><code>NicId</code>: The ID of the NIC.</p>
</li>
<li>
<p><code>PrivateDnsName</code>: The name of the private DNS.</p>
</li>
<li>
<p><code>PrivateIps</code>: The private IP or IPs of the NIC.</p>
<div class="ulist">
<ul>
<li>
<p><code>IsPrimary</code>: If true, the IP is the primary private IP of the NIC.</p>
</li>
<li>
<p><code>LinkPublicIp</code>: Information about the public IP associated with the NIC.</p>
<div class="ulist">
<ul>
<li>
<p><code>PublicDnsName</code>: The name of the public DNS.</p>
</li>
<li>
<p><code>PublicIp</code>: The public IP associated with the NIC.</p>
</li>
<li>
<p><code>PublicIpAccountId</code>: The account ID of the owner of the public IP.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>PrivateDnsName</code>: The name of the private DNS.</p>
</li>
<li>
<p><code>PrivateIp</code>: The private IP.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>SecurityGroups</code>: One or more IDs of security groups for the NIC.</p>
<div class="ulist">
<ul>
<li>
<p><code>SecurityGroupId</code>: The ID of the security group.</p>
</li>
<li>
<p><code>SecurityGroupName</code>: The name of the security group.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>State</code>: The state of the NIC (<code>available</code> | <code>attaching</code> | <code>in-use</code> | <code>detaching</code>).</p>
</li>
<li>
<p><code>SubnetId</code>: The ID of the Subnet for the NIC.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>OsFamily</code>: Indicates the operating system (OS) of the VM.</p>
</li>
<li>
<p><code>Performance</code>: The performance of the VM (<code>medium</code> | <code>high</code> |  <code>highest</code>).</p>
</li>
<li>
<p><code>Placement</code>: Information about the placement of the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>SubregionName</code>: The name of the <span class="tooltip" data-tooltip="Availability Zone (AZ) dans les API AWS-compliant">Subregion</span>. If you specify this parameter, you must not specify the <code>Nics</code> parameter.</p>
</li>
<li>
<p><code>Tenancy</code>: The tenancy of the VM (<code>default</code>, <code>dedicated</code>, or a dedicated group ID).</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>PrivateDnsName</code>: The name of the private DNS.</p>
</li>
<li>
<p><code>PrivateIp</code>: The primary private IP of the VM.</p>
</li>
<li>
<p><code>ProductCodes</code>: The product codes associated with the OMI used to create the VM.</p>
</li>
<li>
<p><code>PublicDnsName</code>: The name of the public DNS.</p>
</li>
<li>
<p><code>PublicIp</code>: The public IP of the VM.</p>
</li>
<li>
<p><code>ReservationId</code>: The reservation ID of the VM.</p>
</li>
<li>
<p><code>RootDeviceName</code>: The name of the root device for the VM (for example, <code>/dev/sda1</code>).</p>
</li>
<li>
<p><code>RootDeviceType</code>: The type of root device used by the VM (always <code>bsu</code>).</p>
</li>
<li>
<p><code>SecurityGroups</code>: One or more security groups associated with the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>SecurityGroupId</code>: The ID of the security group.</p>
</li>
<li>
<p><code>SecurityGroupName</code>: The name of the security group.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>State</code>: The state of the VM (<code>pending</code> | <code>running</code> | <code>stopping</code> | <code>stopped</code> | <code>shutting-down</code> | <code>terminated</code> | <code>quarantine</code>).</p>
</li>
<li>
<p><code>StateReason</code>: The reason explaining the current state of the VM.</p>
</li>
<li>
<p><code>SubnetId</code>: The ID of the Subnet for the VM.</p>
</li>
<li>
<p><code>Tags</code>: One or more tags associated with the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>Key</code>: The key of the tag, with a minimum of 1 character.</p>
</li>
<li>
<p><code>Value</code>: The value of the tag, between 0 and 255 characters.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>UserData</code>: The Base64-encoded MIME user data.</p>
</li>
<li>
<p><code>VmId</code>: The ID of the VM.</p>
</li>
<li>
<p><code>VmInitiatedShutdownBehavior</code>: The VM behavior when you stop it. If set to <code>stop</code>, the VM stops. If set to <code>restart</code>, the VM stops then automatically restarts. If set to <code>terminate</code>, the VM stops and is deleted.</p>
</li>
<li>
<p><code>VmType</code>: The type of VM. For more information, see <a href="../../en/userguide/VM-Types.html" target="_blank" rel="noopener">VM Types</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Result sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "Vm": {
    "VmType": "tinav5.c2r2p2",
    "VmInitiatedShutdownBehavior": "stop",
    "State": "stopped",
    "StateReason": "",
    "RootDeviceType": "ebs",
    "RootDeviceName": "/dev/sda1",
    "IsSourceDestChecked": true,
    "KeypairName": "keypair-example",
    "ImageId": "ami-12345678",
    "DeletionProtection": false,
    "Architecture": "x86_64",
    "NestedVirtualization": false,
    "BlockDeviceMappings": [
      {
        "DeviceName": "/dev/sda1",
        "Bsu": {
          "VolumeId": "vol-12345678",
          "State": "attached",
          "LinkDate": "2010-10-01T12:34:56.789Z",
          "DeleteOnVmDeletion": true
        }
      }
    ],
    "VmId": "i-12345678",
    "ReservationId": "r-12345678",
    "Hypervisor": "xen",
    "Placement": {
      "Tenancy": "default",
      "SubregionName": "eu-west-2a"
    },
    "ProductCodes": [
      "0001"
    ],
    "CreationDate": "2010-10-01T12:34:56.789Z",
    "UserData": "",
    "SubnetId": "subnet-12345678",
    "PrivateIp": "10.0.0.4",
    "SecurityGroups": [
      {
        "SecurityGroupName": "security-group-example",
        "SecurityGroupId": "sg-12345678"
      }
    ],
    "BsuOptimized": false,
    "LaunchNumber": 0,
    "NetId": "vpc-12345678",
    "Nics": [
      {
        "SubnetId": "subnet-12345678",
        "State": "in-use",
        "LinkNic": {
          "State": "attached",
          "DeviceNumber": 0,
          "LinkNicId": "eni-attach-12345678",
          "DeleteOnVmDeletion": true
        },
        "IsSourceDestChecked": true,
        "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal",
        "Description": "Primary network interface",
        "AccountId": "123456789012",
        "SecurityGroups": [
          {
            "SecurityGroupName": "security-group-example",
            "SecurityGroupId": "sg-12345678"
          }
        ],
        "MacAddress": "A1:B2:C3:D4:E5:F6",
        "NetId": "vpc-12345678",
        "NicId": "eni-12345678",
        "PrivateIps": [
          {
            "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal",
            "PrivateIp": "10.0.0.4",
            "IsPrimary": true
          }
        ]
      }
    ],
    "Performance": "high",
    "Tags": [
      {
        "Value": "prod",
        "Key": "env"
      }
    ],
    "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal"
  },
  "ResponseContext": {
    "RequestId": "0475ca1e-d0c5-441d-712a-da55a4175157"
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "Vm": {
    "VmType": "tinav5.c1r1p2",
    "VmInitiatedShutdownBehavior": "stop",
    "State": "stopped",
    "StateReason": "",
    "RootDeviceType": "ebs",
    "RootDeviceName": "/dev/sda1",
    "IsSourceDestChecked": true,
    "KeypairName": "keypair-example",
    "ImageId": "ami-12345678",
    "DeletionProtection": true,
    "Architecture": "x86_64",
    "NestedVirtualization": false,
    "BlockDeviceMappings": [
      {
        "DeviceName": "/dev/sda1",
        "Bsu": {
          "VolumeId": "vol-12345678",
          "State": "attached",
          "LinkDate": "2010-10-01T12:34:56.789Z",
          "DeleteOnVmDeletion": true
        }
      }
    ],
    "VmId": "i-12345678",
    "ReservationId": "r-12345678",
    "Hypervisor": "xen",
    "Placement": {
      "Tenancy": "default",
      "SubregionName": "eu-west-2a"
    },
    "ProductCodes": [
      "0001"
    ],
    "CreationDate": "2010-10-01T12:34:56.789Z",
    "UserData": "...",
    "SubnetId": "subnet-12345678",
    "PrivateIp": "10.0.0.4",
    "SecurityGroups": [
      {
        "SecurityGroupName": "security-group-example",
        "SecurityGroupId": "sg-12345678"
      }
    ],
    "BsuOptimized": false,
    "LaunchNumber": 0,
    "NetId": "vpc-12345678",
    "Nics": [
      {
        "SubnetId": "subnet-12345678",
        "State": "in-use",
        "LinkNic": {
          "State": "attached",
          "DeviceNumber": 0,
          "LinkNicId": "eni-attach-12345678",
          "DeleteOnVmDeletion": true
        },
        "IsSourceDestChecked": true,
        "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal",
        "Description": "Primary network interface",
        "AccountId": "123456789012",
        "SecurityGroups": [
          {
            "SecurityGroupName": "security-group-example",
            "SecurityGroupId": "sg-12345678"
          }
        ],
        "MacAddress": "A1:B2:C3:D4:E5:F6",
        "NetId": "vpc-12345678",
        "NicId": "eni-12345678",
        "PrivateIps": [
          {
            "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal",
            "PrivateIp": "10.0.0.4",
            "IsPrimary": true
          }
        ]
      }
    ],
    "Performance": "high",
    "Tags": [
      {
        "Value": "prod",
        "Key": "env"
      }
    ],
    "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal"
  },
  "ResponseContext": {
    "RequestId": "0475ca1e-d0c5-441d-712a-da55a4175157"
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 tab">
<h2 id="oapi-cli_2"><a class="anchor" href="Modifier-un-attribut-d-une-VM.html#oapi-cli_2"></a>Modifier un attribut d&#8217;une VM avec oapi-cli</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Avant de commencer :</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pour modifier les attributs <code>VmType</code>, <code>UserData</code>, <code>Performance</code> et <code>NestedVirtualization</code>, vous devez arrêter la <span class="tooltip" data-tooltip="instance dans les API AWS-compliant">VM</span>.</p>
</li>
<li>
<p>Les autres attributs peuvent être modifiés lorsque la VM est en fonctionnement ou à l&#8217;arrêt.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pour en savoir plus, voir <a href="Arrêter-et-démarrer-des-VM.html" class="xref page">Arrêter et démarrer des VM</a> et <a href="À-propos-des-VM.html#_les_attributs_des_vm" class="xref page">À propos des VM &gt; Les attributs des VM</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Remarque"></i>
</td>
<td class="content">
<div class="paragraph">
<p>À ce jour, cette section est disponible en anglais uniquement.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <strong>UpdateVm</strong> command modifies the specified attributes of a virtual machine (VM).<br>
You must stop the VM before modifying the following attributes:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NestedVirtualization</code><br></p>
</li>
<li>
<p><code>Performance</code><br></p>
</li>
<li>
<p><code>UserData</code><br></p>
</li>
<li>
<p><code>VmType</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Request sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ oapi-cli --profile "default" UpdateVm \
    --VmId "i-12345678" \
    --VmType "tinav5.c2r2p2"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Request sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ oapi-cli --profile "default" UpdateVm \
    --VmId "i-12345678" \
    --UserData "$(base64 -i user_data.txt)"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command contains the following attributes that you need to specify:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BlockDeviceMappings</code>: (optional) One or more block device mappings of the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>Bsu</code>: (optional) Information about the BSU volume.</p>
<div class="ulist">
<ul>
<li>
<p><code>DeleteOnVmDeletion</code>: (optional) If set to true, the volume is deleted when terminating the VM. If set to false, the volume is not deleted when terminating the VM.</p>
</li>
<li>
<p><code>VolumeId</code>: (optional) The ID of the volume.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>DeviceName</code>: (optional) The device name for the volume. For a root device, you must use <code>/dev/sda1</code>. For other volumes, you must use <code>/dev/sdX</code>, <code>/dev/sdXX</code>, <code>/dev/xvdX</code>, or <code>/dev/xvdXX</code> (where the first <code>X</code> is a letter between <code>b</code> and <code>z</code>, and the second <code>X</code> is a letter between <code>a</code> and <code>z</code>).</p>
</li>
<li>
<p><code>NoDevice</code>: (optional) Removes the device which is included in the block device mapping of the OMI.</p>
</li>
<li>
<p><code>VirtualDeviceName</code>: (optional) The name of the virtual device (<code>ephemeralN</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>BsuOptimized</code>: (optional) This parameter is not available. It is present in our API for the sake of historical compatibility with AWS.</p>
</li>
<li>
<p><code>DeletionProtection</code>: (optional) If true, you cannot delete the VM unless you change this parameter back to false.</p>
</li>
<li>
<p><code>DryRun</code>: (optional) If true, checks whether you have the required permissions to perform the action.</p>
</li>
<li>
<p><code>IsSourceDestChecked</code>: (optional) (<span class="tooltip" data-tooltip="Virtual Private Cloud (VPC) dans les API AWS-compliant">Net</span> only) If true, the source/destination check is enabled. If false, it is disabled.</p>
</li>
<li>
<p><code>KeypairName</code>: (optional) The name of a keypair you want to associate with the VM.<br>
When you replace the keypair of a VM with another one, the metadata of the VM is modified to reflect the new public key, but the replacement is still not effective in the operating system of the VM. To complete the replacement and effectively apply the new keypair, you need to perform other actions inside the VM. For more information, see <a href="../../en/userguide/Modifying-the-Keypair-of-a-VM.html" target="_blank" rel="noopener">Modifying the Keypair of a VM</a>.</p>
</li>
<li>
<p><code>NestedVirtualization</code>: (optional) (dedicated tenancy only) If true, nested virtualization is enabled. If false, it is disabled.</p>
</li>
<li>
<p><code>Performance</code>: (optional) The performance of the VM (<code>medium</code> | <code>high</code> |  <code>highest</code>).</p>
</li>
<li>
<p><code>SecurityGroupIds</code>: (optional) One or more IDs of security groups for the VM.</p>
</li>
<li>
<p><code>UserData</code>: (optional) The Base64-encoded MIME user data, limited to 500 kibibytes (KiB).</p>
</li>
<li>
<p><code>VmId</code>: The ID of the VM.</p>
</li>
<li>
<p><code>VmInitiatedShutdownBehavior</code>: (optional) The VM behavior when you stop it. If set to <code>stop</code>, the VM stops. If set to <code>restart</code>, the VM stops then automatically restarts. If set to <code>terminate</code>, the VM stops and is terminated.</p>
</li>
<li>
<p><code>VmType</code>: (optional) The type of VM. For more information, see <a href="../../en/userguide/VM-Types.html" target="_blank" rel="noopener">VM Types</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <strong>UpdateVm</strong> command returns the following elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ResponseContext</code>: Information about the context of the response.</p>
<div class="ulist">
<ul>
<li>
<p><code>RequestId</code>: The ID of the request.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>Vm</code>: Information about the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>Architecture</code>: The architecture of the VM (<code>i386</code> | <code>x86_64</code>).</p>
</li>
<li>
<p><code>BlockDeviceMappings</code>: The block device mapping of the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>Bsu</code>: Information about the created BSU volume.</p>
<div class="ulist">
<ul>
<li>
<p><code>DeleteOnVmDeletion</code>: If true, the volume is deleted when terminating the VM. If false, the volume is not deleted when terminating the VM.</p>
</li>
<li>
<p><code>LinkDate</code>: The date and time (UTC) at which the volume was attached to the VM, in ISO 8601 date-time format.</p>
</li>
<li>
<p><code>State</code>: The state of the volume.</p>
</li>
<li>
<p><code>VolumeId</code>: The ID of the volume.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>DeviceName</code>: The name of the device.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>BsuOptimized</code>: This parameter is not available. It is present in our API for the sake of historical compatibility with AWS.</p>
</li>
<li>
<p><code>ClientToken</code>: The idempotency token provided when launching the VM.</p>
</li>
<li>
<p><code>CreationDate</code>: The date and time (UTC) at which the VM was created.</p>
</li>
<li>
<p><code>DeletionProtection</code>: If true, you cannot delete the VM unless you change this parameter back to false.</p>
</li>
<li>
<p><code>Hypervisor</code>: The hypervisor type of the VMs (<code>ovm</code> | <code>xen</code>).</p>
</li>
<li>
<p><code>ImageId</code>: The ID of the OMI used to create the VM.</p>
</li>
<li>
<p><code>IsSourceDestChecked</code>: (Net only) If true, the source/destination check is enabled. If false, it is disabled.</p>
</li>
<li>
<p><code>KeypairName</code>: The name of the keypair used when launching the VM.</p>
</li>
<li>
<p><code>LaunchNumber</code>: The number for the VM when launching a group of several VMs (for example, <code>0</code>, <code>1</code>, <code>2</code>, and so on).</p>
</li>
<li>
<p><code>NestedVirtualization</code>: If true, nested virtualization is enabled. If false, it is disabled.</p>
</li>
<li>
<p><code>NetId</code>: The ID of the Net in which the VM is running.</p>
</li>
<li>
<p><code>Nics</code>: (Net only) The <span class="tooltip" data-tooltip="flexible network interface (FNI) dans les API AWS-compliant">network interface cards (NICs)</span> the VMs are attached to.</p>
<div class="ulist">
<ul>
<li>
<p><code>AccountId</code>: The account ID of the owner of the NIC.</p>
</li>
<li>
<p><code>Description</code>: The description of the NIC.</p>
</li>
<li>
<p><code>IsSourceDestChecked</code>: (Net only) If true, the source/destination check is enabled. If false, it is disabled.</p>
</li>
<li>
<p><code>LinkNic</code>: Information about the network interface card (NIC).</p>
<div class="ulist">
<ul>
<li>
<p><code>DeleteOnVmDeletion</code>: If true, the NIC is deleted when the VM is terminated.</p>
</li>
<li>
<p><code>DeviceNumber</code>: The device index for the NIC attachment (between <code>1</code> and <code>7</code>, both included).</p>
</li>
<li>
<p><code>LinkNicId</code>: The ID of the NIC to attach.</p>
</li>
<li>
<p><code>State</code>: The state of the attachment (<code>attaching</code> | <code>attached</code> | <code>detaching</code> | <code>detached</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>LinkPublicIp</code>: Information about the <span class="tooltip" data-tooltip="External IP (EIP) dans les API AWS-compliant">public IP</span> associated with the NIC.</p>
<div class="ulist">
<ul>
<li>
<p><code>PublicDnsName</code>: The name of the public DNS.</p>
</li>
<li>
<p><code>PublicIp</code>: The public IP associated with the NIC.</p>
</li>
<li>
<p><code>PublicIpAccountId</code>: The account ID of the owner of the public IP.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>MacAddress</code>: The Media Access Control (MAC) address of the NIC.</p>
</li>
<li>
<p><code>NetId</code>: The ID of the Net for the NIC.</p>
</li>
<li>
<p><code>NicId</code>: The ID of the NIC.</p>
</li>
<li>
<p><code>PrivateDnsName</code>: The name of the private DNS.</p>
</li>
<li>
<p><code>PrivateIps</code>: The private IP or IPs of the NIC.</p>
<div class="ulist">
<ul>
<li>
<p><code>IsPrimary</code>: If true, the IP is the primary private IP of the NIC.</p>
</li>
<li>
<p><code>LinkPublicIp</code>: Information about the public IP associated with the NIC.</p>
<div class="ulist">
<ul>
<li>
<p><code>PublicDnsName</code>: The name of the public DNS.</p>
</li>
<li>
<p><code>PublicIp</code>: The public IP associated with the NIC.</p>
</li>
<li>
<p><code>PublicIpAccountId</code>: The account ID of the owner of the public IP.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>PrivateDnsName</code>: The name of the private DNS.</p>
</li>
<li>
<p><code>PrivateIp</code>: The private IP.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>SecurityGroups</code>: One or more IDs of security groups for the NIC.</p>
<div class="ulist">
<ul>
<li>
<p><code>SecurityGroupId</code>: The ID of the security group.</p>
</li>
<li>
<p><code>SecurityGroupName</code>: The name of the security group.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>State</code>: The state of the NIC (<code>available</code> | <code>attaching</code> | <code>in-use</code> | <code>detaching</code>).</p>
</li>
<li>
<p><code>SubnetId</code>: The ID of the Subnet for the NIC.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>OsFamily</code>: Indicates the operating system (OS) of the VM.</p>
</li>
<li>
<p><code>Performance</code>: The performance of the VM (<code>medium</code> | <code>high</code> |  <code>highest</code>).</p>
</li>
<li>
<p><code>Placement</code>: Information about the placement of the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>SubregionName</code>: The name of the <span class="tooltip" data-tooltip="Availability Zone (AZ) dans les API AWS-compliant">Subregion</span>. If you specify this parameter, you must not specify the <code>Nics</code> parameter.</p>
</li>
<li>
<p><code>Tenancy</code>: The tenancy of the VM (<code>default</code>, <code>dedicated</code>, or a dedicated group ID).</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>PrivateDnsName</code>: The name of the private DNS.</p>
</li>
<li>
<p><code>PrivateIp</code>: The primary private IP of the VM.</p>
</li>
<li>
<p><code>ProductCodes</code>: The product codes associated with the OMI used to create the VM.</p>
</li>
<li>
<p><code>PublicDnsName</code>: The name of the public DNS.</p>
</li>
<li>
<p><code>PublicIp</code>: The public IP of the VM.</p>
</li>
<li>
<p><code>ReservationId</code>: The reservation ID of the VM.</p>
</li>
<li>
<p><code>RootDeviceName</code>: The name of the root device for the VM (for example, <code>/dev/sda1</code>).</p>
</li>
<li>
<p><code>RootDeviceType</code>: The type of root device used by the VM (always <code>bsu</code>).</p>
</li>
<li>
<p><code>SecurityGroups</code>: One or more security groups associated with the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>SecurityGroupId</code>: The ID of the security group.</p>
</li>
<li>
<p><code>SecurityGroupName</code>: The name of the security group.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>State</code>: The state of the VM (<code>pending</code> | <code>running</code> | <code>stopping</code> | <code>stopped</code> | <code>shutting-down</code> | <code>terminated</code> | <code>quarantine</code>).</p>
</li>
<li>
<p><code>StateReason</code>: The reason explaining the current state of the VM.</p>
</li>
<li>
<p><code>SubnetId</code>: The ID of the Subnet for the VM.</p>
</li>
<li>
<p><code>Tags</code>: One or more tags associated with the VM.</p>
<div class="ulist">
<ul>
<li>
<p><code>Key</code>: The key of the tag, with a minimum of 1 character.</p>
</li>
<li>
<p><code>Value</code>: The value of the tag, between 0 and 255 characters.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>UserData</code>: The Base64-encoded MIME user data.</p>
</li>
<li>
<p><code>VmId</code>: The ID of the VM.</p>
</li>
<li>
<p><code>VmInitiatedShutdownBehavior</code>: The VM behavior when you stop it. If set to <code>stop</code>, the VM stops. If set to <code>restart</code>, the VM stops then automatically restarts. If set to <code>terminate</code>, the VM stops and is deleted.</p>
</li>
<li>
<p><code>VmType</code>: The type of VM. For more information, see <a href="../../en/userguide/VM-Types.html" target="_blank" rel="noopener">VM Types</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Result sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "Vm": {
    "VmType": "tinav5.c2r2p2",
    "VmInitiatedShutdownBehavior": "stop",
    "State": "stopped",
    "StateReason": "",
    "RootDeviceType": "ebs",
    "RootDeviceName": "/dev/sda1",
    "IsSourceDestChecked": true,
    "KeypairName": "keypair-example",
    "ImageId": "ami-12345678",
    "DeletionProtection": false,
    "Architecture": "x86_64",
    "NestedVirtualization": false,
    "BlockDeviceMappings": [
      {
        "DeviceName": "/dev/sda1",
        "Bsu": {
          "VolumeId": "vol-12345678",
          "State": "attached",
          "LinkDate": "2010-10-01T12:34:56.789Z",
          "DeleteOnVmDeletion": true
        }
      }
    ],
    "VmId": "i-12345678",
    "ReservationId": "r-12345678",
    "Hypervisor": "xen",
    "Placement": {
      "Tenancy": "default",
      "SubregionName": "eu-west-2a"
    },
    "ProductCodes": [
      "0001"
    ],
    "CreationDate": "2010-10-01T12:34:56.789Z",
    "UserData": "",
    "SubnetId": "subnet-12345678",
    "PrivateIp": "10.0.0.4",
    "SecurityGroups": [
      {
        "SecurityGroupName": "security-group-example",
        "SecurityGroupId": "sg-12345678"
      }
    ],
    "BsuOptimized": false,
    "LaunchNumber": 0,
    "NetId": "vpc-12345678",
    "Nics": [
      {
        "SubnetId": "subnet-12345678",
        "State": "in-use",
        "LinkNic": {
          "State": "attached",
          "DeviceNumber": 0,
          "LinkNicId": "eni-attach-12345678",
          "DeleteOnVmDeletion": true
        },
        "IsSourceDestChecked": true,
        "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal",
        "Description": "Primary network interface",
        "AccountId": "123456789012",
        "SecurityGroups": [
          {
            "SecurityGroupName": "security-group-example",
            "SecurityGroupId": "sg-12345678"
          }
        ],
        "MacAddress": "A1:B2:C3:D4:E5:F6",
        "NetId": "vpc-12345678",
        "NicId": "eni-12345678",
        "PrivateIps": [
          {
            "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal",
            "PrivateIp": "10.0.0.4",
            "IsPrimary": true
          }
        ]
      }
    ],
    "Performance": "high",
    "Tags": [
      {
        "Value": "prod",
        "Key": "env"
      }
    ],
    "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal"
  },
  "ResponseContext": {
    "RequestId": "0475ca1e-d0c5-441d-712a-da55a4175157"
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "Vm": {
    "VmType": "tinav5.c1r1p2",
    "VmInitiatedShutdownBehavior": "stop",
    "State": "stopped",
    "StateReason": "",
    "RootDeviceType": "ebs",
    "RootDeviceName": "/dev/sda1",
    "IsSourceDestChecked": true,
    "KeypairName": "keypair-example",
    "ImageId": "ami-12345678",
    "DeletionProtection": true,
    "Architecture": "x86_64",
    "NestedVirtualization": false,
    "BlockDeviceMappings": [
      {
        "DeviceName": "/dev/sda1",
        "Bsu": {
          "VolumeId": "vol-12345678",
          "State": "attached",
          "LinkDate": "2010-10-01T12:34:56.789Z",
          "DeleteOnVmDeletion": true
        }
      }
    ],
    "VmId": "i-12345678",
    "ReservationId": "r-12345678",
    "Hypervisor": "xen",
    "Placement": {
      "Tenancy": "default",
      "SubregionName": "eu-west-2a"
    },
    "ProductCodes": [
      "0001"
    ],
    "CreationDate": "2010-10-01T12:34:56.789Z",
    "UserData": "...",
    "SubnetId": "subnet-12345678",
    "PrivateIp": "10.0.0.4",
    "SecurityGroups": [
      {
        "SecurityGroupName": "security-group-example",
        "SecurityGroupId": "sg-12345678"
      }
    ],
    "BsuOptimized": false,
    "LaunchNumber": 0,
    "NetId": "vpc-12345678",
    "Nics": [
      {
        "SubnetId": "subnet-12345678",
        "State": "in-use",
        "LinkNic": {
          "State": "attached",
          "DeviceNumber": 0,
          "LinkNicId": "eni-attach-12345678",
          "DeleteOnVmDeletion": true
        },
        "IsSourceDestChecked": true,
        "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal",
        "Description": "Primary network interface",
        "AccountId": "123456789012",
        "SecurityGroups": [
          {
            "SecurityGroupName": "security-group-example",
            "SecurityGroupId": "sg-12345678"
          }
        ],
        "MacAddress": "A1:B2:C3:D4:E5:F6",
        "NetId": "vpc-12345678",
        "NicId": "eni-12345678",
        "PrivateIps": [
          {
            "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal",
            "PrivateIp": "10.0.0.4",
            "IsPrimary": true
          }
        ]
      }
    ],
    "Performance": "high",
    "Tags": [
      {
        "Value": "prod",
        "Key": "env"
      }
    ],
    "PrivateDnsName": "ip-10-0-0-4.eu-west-2.compute.internal"
  },
  "ResponseContext": {
    "RequestId": "0475ca1e-d0c5-441d-712a-da55a4175157"
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 tab">
<h2 id="AWS CLI_3"><a class="anchor" href="Modifier-un-attribut-d-une-VM.html#AWS CLI_3"></a>Modifier un attribut d&#8217;une instance avec AWS CLI</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Avant de commencer :</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Installez et configurez AWS CLI. Pour en savoir plus, voir <a href="Installer-et-configurer-AWS-CLI.html" class="xref page">Installer et configurer AWS CLI</a>.</p>
</li>
<li>
<p>Pour modifier les attributs <code>instance-type</code> et <code>user-data</code>, vous devez arrêter l&#8217;instance.</p>
</li>
<li>
<p>Les autres attributs peuvent être modifiés lorsque l&#8217;instance est en fonctionnement ou à l&#8217;arrêt.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pour en savoir plus, voir <a href="Arrêter-et-démarrer-des-VM.html" class="xref page">Arrêter et démarrer des VM</a> et <a href="À-propos-des-VM.html#_les_attributs_des_vm" class="xref page">À propos des VM &gt; Les attributs des VM</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Pour modifier un attribut d&#8217;une instance, utilisez la commande <strong>modify-instance-attribute</strong> en suivant cette syntaxe :</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Vous ne pouvez modifier qu&#8217;un seul attribut à la fois.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Exemple de requête</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> $ aws ec2 modify-instance-attribute \
    --profile YOUR_PROFILE \
    --instance-id i-12345678\
    --attribute ATTRIBUTE_NAME \
    --value ATTRIBUTE_VALUE \
    --disable-api-termination \
    --block-device-mappings VALUE \
    --instance-type m1.large \
    --user-data VALUE \
    --instance-initiated-shutdown-behavior stop \
    --groups sg-12345678 \
    --ebs-optimized NOT_SPECIFIED \
    --source-dest-check \
    --endpoint https://fcu.eu-west-2.outscale.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cette commande contient les attributs suivants que vous devez spécifier :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(optionnel) <code>profile</code> : Le profil nommé que vous voulez utiliser, créé pendant la configuration d&#8217;AWS CLI. Pour en savoir plus, voir <a href="Installer-et-configurer-AWS-CLI.html" class="xref page">Installer et configurer AWS CLI</a>.</p>
</li>
<li>
<p><code>instance-id</code> : L&#8217;ID de l&#8217;instance dont vous voulez modifier l&#8217;attribut.</p>
</li>
<li>
<p>(optionnel) <code>attribute</code> : Le nom de l&#8217;attribut (<code>userData</code> | <code>rootDeviceName</code> | <code>instanceType</code> | <code>groupSet</code> | <code>ebsOptimized</code> | <code>sourceDestCheck</code> | <code>blockDeviceMapping</code> | <code>disableApiTermination</code> | <code>instanceInitiatedShutdownBehavior</code>).</p>
</li>
<li>
<p>(optionnel) <code>value</code> : La valeur de l&#8217;attribut (uniquement pour les attributs suivants : <code>userData</code>, <code>disableApiTermination</code> ou <code>instanceInitiatedShutdownBehavior</code>).</p>
</li>
<li>
<p>(optionnel) <code>disable-api-termination</code> : Si paramétré sur <code>true</code>, vous ne pouvez pas terminer l&#8217;instance, quelle que soit l&#8217;interface. Si paramétré sur <code>false</code>, vous pouvez.</p>
</li>
<li>
<p>(optionnel) <code>block-device-mappings</code> : Informations sur les volumes BSU attachés à l&#8217;instance. Cet attribut contient les éléments suivants que vous devez spécifier :</p>
<div class="ulist">
<ul>
<li>
<p><code>DeviceName</code> : Le nom de périphérique utilisé pour attacher le volume à l&#8217;instance. Pour en savoir plus, voir <a href="À-propos-des-volumes.html" class="xref page">À propos des volumes</a>.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pour modifier l&#8217;attribut <code>DeleteOnTermination</code>, cet élément est requis.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>(optionnel) <code>Ebs</code> : Informations sur le volume attaché à l&#8217;instance. Cet élément contient l&#8217;élément suivant que vous devez spécifier :</p>
<div class="ulist">
<ul>
<li>
<p>(optionnel) <code>DeleteOnTermination</code> : Par défaut ou si paramétré sur <code>true</code>, le volume est supprimé lorsque l&#8217;instance est terminée. Si paramétré sur <code>false</code>, il ne l&#8217;est pas.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Astuce"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pour modifier l&#8217;attribut <code>block-device-mappings</code> pour plusieurs volumes en même temps, utilisez la syntaxe suivante :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">'[{"DeviceName": "/dev/sda1", "Ebs": {"DeleteOnTermination": false}}, {"DeviceName": "/dev/sdb", "Ebs": {"DeleteOnTermination": false}}]'</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>(optionnel) <code>instance-type</code> : Le type d&#8217;instance (quantité de vCores, mémoire, stockage). Pour en savoir plus, voir <a href="Types-de-VM.html" class="xref page">Types de VM</a>.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pour fonctionner correctement, les VMs Windows nécessitent au moins un processeur de génération v3, 2 vCores et 4 Gio de mémoire.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>(optionnel) <code>user-data</code> : De nouvelles user data pour l&#8217;instance. Pour en savoir plus, voir <a href="Configurer-une-VM-avec-les-user-data-et-les-tags-OUTSCALE.html" class="xref page">Configurer une VM avec les user data et les tags OUTSCALE</a>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Remarque"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Les user data existantes sont effacées et remplacées par celles spécifiées ici.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>(optionnel) <code>instance-initiated-shutdown-behavior</code> : Le comportement lorsque vous coupez l&#8217;instance. Par défaut ou si paramétrée sur <code>stop</code>, l&#8217;instance s&#8217;arrête. Si paramétrée sur <code>terminate</code>, l&#8217;instance s&#8217;arrête et est terminée. Si paramétrée sur <code>restart</code>, l&#8217;instance s&#8217;arrête et redémarre automatiquement.</p>
</li>
<li>
<p>(optionnel) <code>groups</code> : Un ou plusieurs ID de security groups pour l&#8217;instance.</p>
</li>
<li>
<p>(optionnel) <code>source-dest-check|no-source-dest-check</code> : Si paramétré sur <code>source-dest-check</code>, la vérification source-destination du trafic réseau est activée. Si paramétré sur <code>no-source-dest-check</code>, elle est désactivée.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Vous pouvez modifier l&#8217;attribut <code>sourceDestinationCheck</code> uniquement si l&#8217;instance est dans un <span class="tooltip" data-tooltip="Net dans l'API OUTSCALE">VPC</span>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>(optionnel) <code>ebs-optimized</code> : Indique si l&#8217;instance est optimisée pour BSU.</p>
</li>
<li>
<p><code>endpoint</code> : Le endpoint correspondant à la Région à laquelle vous voulez envoyer la requête. Pour en savoir plus, voir <a href="Installer-et-configurer-AWS-CLI.html" class="xref page">Installer et configurer AWS CLI</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>L&#8217;attribut spécifié est modifié.</p>
</div>
<div class="paragraph">
<p><strong>Pages connexes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="À-propos-des-VM.html" class="xref page">À propos des VM</a></p>
</li>
<li>
<p><a href="Arrêter-et-démarrer-des-VM.html" class="xref page">Arrêter et démarrer des VM</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Méthodes API correspondantes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../../api%3Fconsole.html#updatevm" class="xref page">UpdateVm (API OUTSCALE)</a></p>
</li>
<li>
<p><a href="../../fcu.html#modifyinstanceattribute" class="xref page">ModifyInstanceAttribute (FCU)</a></p>
</li>
</ul>
</div>
</div>
</div>
<div id="disclaimer" class="paragraph page-wrapper api">
<p>AWS™ et Amazon Web Services™ sont des marques de commerce d'Amazon Technologies, Inc. ou de ses affiliées aux États-Unis et/ou dans les autres pays.</p>
</div>
<div class="sidebar-button paragraph"><a onclick="printPage()"><strong>Exporter en PDF</strong> <i class="fa fa-file-pdf-o"></i></a></div>
</article>
  </div>
</main>
</div>
    <footer class="footer">
      <p>Copyright © 2025 Outscale SAS. Tous droits réservés. | <a href="Mentions-légales.html" class="xref page">Mentions légales</a></p>
      <p>Ce site a été construit avec <a href="https://antora.org" target="_blank" rel="noopener">Antora</a> et <a href="https://github.com/outscale/osc-doc-framework" target="_blank" rel="noopener">osc-doc-framework</a>.</p>
    </footer>
    <script src="../../_/js/site-navigation-data.js"></script>
    <script id="navigator-script" src="../../_/js/nav.js"></script>
    <script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
    <script src="../../_/js/outscale-right-sidebar.js"></script>
    <script src="../../_/js/outscale-tabs.js"></script>
    <script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="120" data-stylesheet="../../_/css/outscale-search.css"></script>
<script async src="../../_/js/search-index.js"></script>
<script async src="../../_/js/search-page.js"></script>

    <script src="../../_/js/vendor/highlight.js"></script>
    <script async src="../../_/js/outscale-extra-highlight.js"></script>
    <script src="../../_/js/vendor/jstable.es5.min.js"></script>
    <script async src="../../_/js/outscale-tables.js"></script>
    <script async src="../../_/js/outscale-print.js"></script>
  </body>
</html>
