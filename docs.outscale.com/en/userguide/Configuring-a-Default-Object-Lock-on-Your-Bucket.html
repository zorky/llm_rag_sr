<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuring a Default Object Lock on Your Bucket – OUTSCALE Public Documentation</title>
    <link rel="canonical" href="Configuring-a-Default-Object-Lock-on-Your-Bucket.html">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/outscale.css">
    <link rel="stylesheet" media="screen" href="../../_/css/vendor/jstable.min.css">
    <link rel="shortcut icon" href="../../_/img/favicon.ico">
    <link rel="search" type="application/opensearchdescription+xml" href="_xml/opensearch.xml" title="OUTSCALE Docs EN">
    <meta name="page-component" content="en">
    <meta name="page-version" content="">
    <meta name="page-url" content="/en/userguide/Configuring-a-Default-Object-Lock-on-Your-Bucket.html">
    <!-- Matomo -->
    <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
        _paq.push(['setTrackerUrl', 'https://outscale.matomo.cloud/matomo.php']);
        _paq.push(['setSiteId', '15']);
        _paq.push(['HeatmapSessionRecording::disable']);
    })();
    </script>
    <script async defer src="../../_/js/vendor/matomo.min.js"></script>
    <!-- End Matomo Code -->
  </head>
  <body class="article">
    <header class="header" role="banner">
      <nav id="top-menu" aria-label="Main Navigation">
          <button id="top-menu-button" aria-expanded="false" aria-controls="entry-0">
            <span></span>
          </button>
          <ul id="entry-0">
              <li class="logo entry">
                  <a href="https://en.outscale.com"><img src="../../_/img/logo.svg" alt="Logo"></a>
              </li>
              <li class="entry">
                <a href="Home.html">Docs</a>
              </li>
              <li class="entry">
                <a href="../../api%3Fconsole.html">API</a>
              </li>
              <li class="dropdown entry">
                  <button aria-expanded="false" aria-controls="entry-3">AWS Compatibility</button>
                  <ul id="entry-3">
                      <li><a href="../../fcu.html">FCU</a></li>
                      <li><a href="../../lbu.html">LBU</a></li>
                      <li><a href="../../eim.html">EIM</a></li>
                      <li><a href="../../icu.html">ICU</a></li>
                      <li><a href="../../directlink.html">DirectLink</a></li>
                      <li><a href="OOS-API-Reference.html">OOS</a></li>
                      <li><a href="AWS-Compatibility-Matrix.html">Compatibility Matrix</a></li>
                  </ul>
              </li>
                            <li class="dropdown entry">
                  <button aria-expanded="false" aria-controls="entry-4">Tooling</button>
                  <ul id="entry-4">
                      <li><a href="About-Cockpit.html">Cockpit</a></li>
                      <li><a href="Installing-and-Configuring-OSC-CLI.html">Command-Line Interface (CLI)</a></li>
                      <li><a href="Terraform.html">Terraform</a></li>
                      <li><a href="https://www.packer.io/docs/builders/outscale.html" target="_blank" rel="noopener">Packer</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-python" target="_blank" rel="noopener">SDK for Python</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-go" target="_blank" rel="noopener">SDK for Go</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-js" target="_blank" rel="noopener">SDK for JavaScript</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-rust" target="_blank" rel="noopener">SDK for Rust</a></li>
                      <li><a href="https://github.com/outscale/frieza" target="_blank" rel="noopener">Frieza</a></li>
                      <li><a href="https://github.com/outscale/osc-logs" target="_blank" rel="noopener">osc-logs</a></li>
                      <li><a href="https://github.com/outscale/osc-libcurl-examples" target="_blank" rel="noopener">Using OUTSCALE API with libcurl</a></li>
                  </ul>
              </li>
                            <li class="entry">
                <a href="https://support.outscale.com/hc/en-us" target="_blank" rel="noopener">FAQs</a>
              </li>
              <li class="entry">
                <a href="Release-Notes.html">Release Notes</a>
              </li>
              <li class="right dropdown entry">
                  <button aria-expanded="false" aria-controls="entry-lang">English<span class="fa fa-globe fa-fw"></span></button>
                  <ul id="entry-lang">
                      <li><a href="../../fr/userguide/Configurer-un-Object-Lock-par-défaut-sur-un-bucket.html">Français</a></li>
                  </ul>
              </li>
              <form id="search-field" class="right entry field has-filter" action="https://docs.outscale.com/en/userguide/Search.html" autocomplete="off">
                  <a>
                    <input id="search-input" name="q" type="text" placeholder="Search"><button type="submit" value=""></button>
                  </a>
                  <input type="checkbox" data-facet-filter="component:en" checked style="display: none">
              </form>
          </ul>
      </nav>
      <button class="nav-toggle"></button>
    </header>
<div class="body">
<div class="nav-container">
  <aside class="nav">
    <nav class="nav-panel-menu nav-menu is-active"></nav>
    <div data-panel="menu"></div>
  </aside>
</div>

<main class="article">
  <div class="content ">
<aside class="toc sidebar" data-title="Contents" data-levels="3">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Configuring a Default Object Lock on Your Bucket</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You can use the Object Lock feature to prevent objects in a bucket from being deleted or modified for a fixed period of time.</p>
</div>
<div class="paragraph">
<p>Object Lock enables you to implement a write once read many (WORM) model. You can use Object Lock to meet certain regulatory compliance needs or security needs.</p>
</div>
<div class="paragraph">
<p>Once you apply an Object Lock configuration to a bucket, the default lock is applied to any future object uploaded to the bucket. However, you can also apply specific locks to specific objects in the bucket. For more information, see <a href="Configuring-a-Specific-Object-Lock-on-an-Object.html" class="xref page">Configuring a Specific Object Lock on an Object</a>.</p>
</div>
</div>
</div>
<div class="sect1 tab">
<h2 id="AWS CLI (s3api)"><a class="anchor" href="Configuring-a-Default-Object-Lock-on-Your-Bucket.html#AWS CLI (s3api)"></a>Configuring a Default Object Lock on Your Bucket Using AWS CLI (s3api)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_enabling_object_lock_on_a_bucket"><a class="anchor" href="Configuring-a-Default-Object-Lock-on-Your-Bucket.html#_enabling_object_lock_on_a_bucket"></a>Enabling Object Lock on a Bucket</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Before you begin:</strong> Install and configure AWS CLI. For more information, see <a href="Installing-and-Configuring-AWS-CLI.html" class="xref page">Installing and Configuring AWS CLI</a>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To enable Object Lock on a bucket, you need to use the <strong>create-bucket</strong> command with the <strong>object-lock-enabled-for-bucket</strong> attribute. You can only enable Object Lock on new buckets. For more information, see <a href="Creating-a-Bucket.html" class="xref page">Creating a Bucket</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When you create a bucket with Object Lock enabled, bucket versioning is also automatically enabled, and cannot be disabled. For more information on bucket versioning, see <a href="Using-Bucket-Versioning.html" class="xref page">Using Bucket Versioning</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Request Sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ aws s3api create-bucket \
    --profile YOUR_PROFILE \
    --bucket BUCKET \
    --object-lock-enabled-for-bucket \
    --endpoint https://oos.eu-west-2.outscale.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>The bucket with Object Lock enabled is created.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Since versioning is automatically enabled on a bucket where Object Lock has been enabled, deleting a locked object will only create a delete marker.</p>
</div>
<div class="paragraph">
<p>This is because versioning ensures that every version of an object is preserved, while Object Lock specifically safeguards certain versions from being altered or deleted.</p>
</div>
<div class="paragraph">
<p>This means that when a delete operation is attempted on a locked object, the object actually remains stored and protected, even if the delete marker makes it seem as if the object has been deleted. Also note that a delete marker cannot be WORM-protected and can thus be removed. For more information, see <a href="About-Delete-Markers.html" class="xref page">About Delete Markers</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_applying_an_object_lock_configuration_to_a_bucket"><a class="anchor" href="Configuring-a-Default-Object-Lock-on-Your-Bucket.html#_applying_an_object_lock_configuration_to_a_bucket"></a>Applying an Object Lock Configuration to a Bucket</h3>
<div class="paragraph">
<p>To apply a default Object Lock configuration to any future object uploaded to your bucket, use the <strong>put-object-lock-configuration</strong> command following this syntax:</p>
</div>
<div class="listingblock">
<div class="title">Request sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ aws s3api put-object-lock-configuration \
    --profile YOUR_PROFILE \
    --bucket BUCKET \
    --object-lock-configuration file://path/to/configuration/file \
    --endpoint https://oos.eu-west-2.outscale.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command contains the following attributes that you need to specify:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(optional) <code>profile</code>: The named profile you want to use, created when configuring AWS CLI. For more information, see <a href="Installing-and-Configuring-AWS-CLI.html" class="xref page">Installing and Configuring AWS CLI</a>.</p>
</li>
<li>
<p><code>bucket</code>: The name of the bucket to which you want to add the Object Lock configuration.</p>
</li>
<li>
<p><code>object-lock-configuration</code>: The path to the JSON configuration file containing the Object Lock rules to apply to your objects. For more information on how to write this file, see <a href="Object-Lock-Configuration-Reference.html" class="xref page">Object Lock Configuration Reference</a>.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can also specify these rules as an inline JSON string.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><code>endpoint</code>: The endpoint corresponding to the Region you want to send the request to. For more information, see <a href="Installing-and-Configuring-AWS-CLI.html" class="xref page">Installing and Configuring AWS CLI</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Object Lock configuration is applied to new objects placed in your bucket.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can change the default Object Lock configuration of your bucket using the same command. However, keep in mind that the new configuration will only apply to objects uploaded after the configuration change. Objects uploaded before the change will retain the previous configuration.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_getting_information_about_an_object_lock_configuration"><a class="anchor" href="Configuring-a-Default-Object-Lock-on-Your-Bucket.html#_getting_information_about_an_object_lock_configuration"></a>Getting Information About an Object Lock Configuration</h3>
<div class="paragraph">
<p>To get information about the Object Lock configuration of your bucket, use the <strong>get-object-lock-configuration</strong> command following this syntax:</p>
</div>
<div class="listingblock">
<div class="title">Request sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ aws s3api get-object-lock-configuration \
    --profile YOUR_PROFILE \
    --bucket BUCKET \
    --endpoint https://oos.eu-west-2.outscale.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command contains the following attributes that you need to specify:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(optional) <code>profile</code>: The named profile you want to use, created when configuring AWS CLI. For more information, see <a href="Installing-and-Configuring-AWS-CLI.html" class="xref page">Installing and Configuring AWS CLI</a>.</p>
</li>
<li>
<p><code>bucket</code>: The name of the bucket with Object Lock enabled.</p>
</li>
<li>
<p><code>endpoint</code>: The endpoint corresponding to the Region you want to send the request to. For more information, see <a href="Installing-and-Configuring-AWS-CLI.html" class="xref page">Installing and Configuring AWS CLI</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <strong>get-object-lock-configuration</strong> command returns the following elements:</p>
</div>
<div class="listingblock">
<div class="title">Result sample</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "ObjectLockConfiguration": {
        "ObjectLockEnabled": "Enabled",
        "Rule": {
            "DefaultRetention": {
                "Mode": "COMPLIANCE",
                "Days": 2
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ObjectLockEnabled</code>: Indicates that Object Lock has been enabled on the bucket.</p>
</li>
<li>
<p><code>Rule</code>: The specific retention rule applied as default for objects placed in the buckets.</p>
</li>
<li>
<p><code>DefaultRetention</code>: Defines the default retention parameters for new objects placed in the bucket.</p>
</li>
<li>
<p><code>Mode</code>: The retention mode for the bucket. The value is always <code>COMPLIANCE</code>, which prevents any user, including the root user, from deleting or modifying objects within the bucket until the retention period expires.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>OUTSCALE Object Storage currently does not support <code>GOVERNANCE</code> mode.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><code>Days</code> or <code>Years</code>: The retention period, in days or years, after which the objects are no longer protected.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Keep in mind that in <code>COMPLIANCE</code> mode, it is not possible to bypass the retention period until its expiration. This means you will be billed for the entire retention period you set.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Related Pages</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="About-OOS.html" class="xref page">About OOS</a></p>
</li>
<li>
<p><a href="About-Delete-Markers.html" class="xref page">About Delete Markers</a></p>
</li>
<li>
<p><a href="Tools-To-Use-OOS.html" class="xref page">Tools To Use OOS</a></p>
</li>
<li>
<p><a href="Installing-and-Configuring-AWS-CLI.html" class="xref page">Installing and Configuring AWS CLI</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="disclaimer" class="paragraph page-wrapper api">
<p>AWS™ and Amazon Web Services™ are trademarks of Amazon Technologies, Inc or its affiliates in the United States and/or other countries.</p>
</div>
<div class="sidebar-button paragraph"><a onclick="printPage()"><strong>Export to PDF</strong> <i class="fa fa-file-pdf-o"></i></a></div>
</article>
  </div>
</main>
</div>
    <footer class="footer">
      <p>Copyright © 2025 Outscale SAS. All rights reserved. | <a href="Legal-Mentions.html" class="xref page">Legal Mentions</a></p>
      <p>This site was built with <a href="https://antora.org" target="_blank" rel="noopener">Antora</a> and <a href="https://github.com/outscale/osc-doc-framework" target="_blank" rel="noopener">osc-doc-framework</a>.</p>
    </footer>
    <script src="../../_/js/site-navigation-data.js"></script>
    <script id="navigator-script" src="../../_/js/nav.js"></script>
    <script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
    <script src="../../_/js/outscale-right-sidebar.js"></script>
    <script src="../../_/js/outscale-tabs.js"></script>
    <script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="120" data-stylesheet="../../_/css/outscale-search.css"></script>
<script async src="../../_/js/search-index.js"></script>
<script async src="../../_/js/search-page.js"></script>

    <script src="../../_/js/vendor/highlight.js"></script>
    <script async src="../../_/js/outscale-extra-highlight.js"></script>
    <script src="../../_/js/vendor/jstable.es5.min.js"></script>
    <script async src="../../_/js/outscale-tables.js"></script>
    <script async src="../../_/js/outscale-print.js"></script>
  </body>
</html>
