<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tutorial: Getting Your Consumption Using an EIM User – OUTSCALE Public Documentation</title>
    <link rel="canonical" href="Tutorial-Getting-Your-Consumption-Using-an-EIM-User.html">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/outscale.css">
    <link rel="stylesheet" media="screen" href="../../_/css/vendor/jstable.min.css">
    <link rel="shortcut icon" href="../../_/img/favicon.ico">
    <link rel="search" type="application/opensearchdescription+xml" href="_xml/opensearch.xml" title="OUTSCALE Docs EN">
    <meta name="page-component" content="en">
    <meta name="page-version" content="">
    <meta name="page-url" content="/en/userguide/Tutorial-Getting-Your-Consumption-Using-an-EIM-User.html">
    <!-- Matomo -->
    <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
        _paq.push(['setTrackerUrl', 'https://outscale.matomo.cloud/matomo.php']);
        _paq.push(['setSiteId', '15']);
        _paq.push(['HeatmapSessionRecording::disable']);
    })();
    </script>
    <script async defer src="../../_/js/vendor/matomo.min.js"></script>
    <!-- End Matomo Code -->
  </head>
  <body class="article">
    <header class="header" role="banner">
      <nav id="top-menu" aria-label="Main Navigation">
          <button id="top-menu-button" aria-expanded="false" aria-controls="entry-0">
            <span></span>
          </button>
          <ul id="entry-0">
              <li class="logo entry">
                  <a href="https://en.outscale.com"><img src="../../_/img/logo.svg" alt="Logo"></a>
              </li>
              <li class="entry">
                <a href="Home.html">Docs</a>
              </li>
              <li class="entry">
                <a href="../../api%3Fconsole.html">API</a>
              </li>
              <li class="dropdown entry">
                  <button aria-expanded="false" aria-controls="entry-3">AWS Compatibility</button>
                  <ul id="entry-3">
                      <li><a href="../../fcu.html">FCU</a></li>
                      <li><a href="../../lbu.html">LBU</a></li>
                      <li><a href="../../eim.html">EIM</a></li>
                      <li><a href="../../icu.html">ICU</a></li>
                      <li><a href="../../directlink.html">DirectLink</a></li>
                      <li><a href="OOS-API-Reference.html">OOS</a></li>
                      <li><a href="AWS-Compatibility-Matrix.html">Compatibility Matrix</a></li>
                  </ul>
              </li>
                            <li class="dropdown entry">
                  <button aria-expanded="false" aria-controls="entry-4">Tooling</button>
                  <ul id="entry-4">
                      <li><a href="About-Cockpit.html">Cockpit</a></li>
                      <li><a href="Installing-and-Configuring-OSC-CLI.html">Command-Line Interface (CLI)</a></li>
                      <li><a href="Terraform.html">Terraform</a></li>
                      <li><a href="https://www.packer.io/docs/builders/outscale.html" target="_blank" rel="noopener">Packer</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-python" target="_blank" rel="noopener">SDK for Python</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-go" target="_blank" rel="noopener">SDK for Go</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-js" target="_blank" rel="noopener">SDK for JavaScript</a></li>
                      <li><a href="https://github.com/outscale/osc-sdk-rust" target="_blank" rel="noopener">SDK for Rust</a></li>
                      <li><a href="https://github.com/outscale/frieza" target="_blank" rel="noopener">Frieza</a></li>
                      <li><a href="https://github.com/outscale/osc-logs" target="_blank" rel="noopener">osc-logs</a></li>
                      <li><a href="https://github.com/outscale/osc-libcurl-examples" target="_blank" rel="noopener">Using OUTSCALE API with libcurl</a></li>
                  </ul>
              </li>
                            <li class="entry">
                <a href="https://support.outscale.com/hc/en-us" target="_blank" rel="noopener">FAQs</a>
              </li>
              <li class="entry">
                <a href="Release-Notes.html">Release Notes</a>
              </li>
              <li class="right dropdown entry">
                  <button aria-expanded="false" aria-controls="entry-lang">English<span class="fa fa-globe fa-fw"></span></button>
                  <ul id="entry-lang">
                      <li><a href="../../fr/userguide/Tutoriel-Obtenir-votre-consommation-avec-un-utilisateur-EIM.html">Français</a></li>
                  </ul>
              </li>
              <form id="search-field" class="right entry field has-filter" action="https://docs.outscale.com/en/userguide/Search.html" autocomplete="off">
                  <a>
                    <input id="search-input" name="q" type="text" placeholder="Search"><button type="submit" value=""></button>
                  </a>
                  <input type="checkbox" data-facet-filter="component:en" checked style="display: none">
              </form>
          </ul>
      </nav>
      <button class="nav-toggle"></button>
    </header>
<div class="body">
<div class="nav-container">
  <aside class="nav">
    <nav class="nav-panel-menu nav-menu is-active"></nav>
    <div data-panel="menu"></div>
  </aside>
</div>

<main class="article">
  <div class="content ">
<aside class="toc sidebar" data-title="Contents" data-levels="3">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Tutorial: Getting Your Consumption Using an EIM User</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In terms of governance, it can be a best practice to create an EIM user whose only right is to read your account&#8217;s consumption information. This way, you can grant access to your consumption to a dedicated person or script without having to grant them any other rights on the rest of your account.</p>
</div>
<div class="paragraph">
<p>First, you need to use your root account to create and configure the EIM user.</p>
</div>
<div class="paragraph">
<p>Then, the other person or script can configure their OSC CLI to use the credentials of the EIM user.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_root_account_create_and_configure_the_eim_user"><a class="anchor" href="Tutorial-Getting-Your-Consumption-Using-an-EIM-User.html#_root_account_create_and_configure_the_eim_user"></a>(Root Account) Create and Configure the EIM User</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the EIM user:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ osc-cli eim CreateUser --profile "default" \
  --UserName "readconsumption-user"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For more information on this command, see <a href="../../eim.html#createuser" class="xref page">CreateUser</a> in the EIM API documentation.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create a policy that allows only the ReadConsumptionAccount action:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ osc-cli eim CreatePolicy --profile "default" \
  --PolicyName "readconsumption-policy" \
  --PolicyDocument '{ \
      "Statement": [ \
        { \
          "Action": "api:ReadConsumptionAccount", \
          "Resource": ["*"], \
          "Effect": "Allow" \
        } \
      ] \
    }'</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command returns several response elements, including an <code>Arn</code> element (for example, <code>"arn:aws:iam::123456789012:policy/readconsumption-policy"</code>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For more information on this command, see <a href="../../eim.html#createpolicy" class="xref page">CreatePolicy</a> in the EIM API documentation.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Attach the policy to the EIM user:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ osc-cli eim AttachUserPolicy --profile "default" \
  --PolicyArn "arn:aws:iam::123456789012:policy/readconsumption-policy" \
  --UserName "readconsumption-user"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For more information on this command, see <a href="../../eim.html#attachuserpolicy" class="xref page">AttachUserPolicy</a> in the EIM API documentation.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create an access key for the EIM user:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ osc-cli eim CreateAccessKey --profile "default" \
  --UserName "readconsumption-user"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command returns several response elements, including an <code>AccessKeyId</code> element and a <code>SecretAccessKey</code> element.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For more information on this command, see <a href="../../eim.html#createaccesskey" class="xref page">CreateAccessKey</a> in the EIM API documentation.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_eim_user_configure_your_osc_cli_profile"><a class="anchor" href="Tutorial-Getting-Your-Consumption-Using-an-EIM-User.html#_eim_user_configure_your_osc_cli_profile"></a>(EIM User) Configure Your OSC CLI Profile</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>.osc/config.json</strong> file, configure a profile to use the access key and secret key of the EIM user:</p>
<div class="listingblock">
<div class="title">.osc/config.json</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
   "readconsumption-user": {
      "access_key": "AAAAAAAAAAAAAAAAAAAA",
      "secret_key": "BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB",
      "host": "outscale.com",
      "https": true,
      "method": "POST",
      "region": "eu-west-2"
   }
}</code></pre>
</div>
</div>
</li>
<li>
<p>The EIM user can now run the <strong>ReadConsumptionAccount</strong> action using OSC CLI:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ osc-cli api ReadConsumptionAccount --profile "readconsumption-user" \
  --FromDate 2022-06-01 \
  --ToDate 2022-07-01 \
  --Overall False</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Overall</code> parameter specifies whether to return an overall consumption:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>False</code>, returns only the consumption of the account that sends this command.</p>
</li>
<li>
<p>If <code>True</code> and this command is sent from a paying account, returns the overall consumption of the paying account and all linked accounts.</p>
</li>
<li>
<p>If <code>True</code> and this command is sent from a linked account, returns nothing.</p>
</li>
</ul>
</div>
<div class="openblock">
<div class="content">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In all cases, the consumption is that of one or more accounts and not that of the EIM user. The notion of consumption of an EIM user has no meaning, since Cloud resources are not allocated to EIM users but to the accounts.</p>
</div>
<div class="paragraph">
<p>EIM must be considered as a set of credentials allowed to perform granted API calls on a specific account. For more information, see <a href="About-EIM-Users.html" class="xref page">About EIM Users</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For more information on this command, see <a href="Getting-Information-About-Your-Resource-Consumption.html#_Getting_Information_About_Your_Resource_Consumption_Using_OSC_CLI" class="xref page">Getting Information About Your Resource Consumption &gt; OSC CLI</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related Pages</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="About-Your-Account.html" class="xref page">About Your Account</a></p>
</li>
<li>
<p><a href="About-EIM-Users.html" class="xref page">About EIM Users</a></p>
</li>
<li>
<p><a href="Installing-and-Configuring-OSC-CLI.html" class="xref page">Installing and Configuring OSC CLI</a></p>
</li>
<li>
<p><a href="Getting-Information-About-Your-Resource-Consumption.html" class="xref page">Getting Information About Your Resource Consumption</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebar-button paragraph"><a onclick="printPage()"><strong>Export to PDF</strong> <i class="fa fa-file-pdf-o"></i></a></div>
</article>
  </div>
</main>
</div>
    <footer class="footer">
      <p>Copyright © 2025 Outscale SAS. All rights reserved. | <a href="Legal-Mentions.html" class="xref page">Legal Mentions</a></p>
      <p>This site was built with <a href="https://antora.org" target="_blank" rel="noopener">Antora</a> and <a href="https://github.com/outscale/osc-doc-framework" target="_blank" rel="noopener">osc-doc-framework</a>.</p>
    </footer>
    <script src="../../_/js/site-navigation-data.js"></script>
    <script id="navigator-script" src="../../_/js/nav.js"></script>
    <script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
    <script src="../../_/js/outscale-right-sidebar.js"></script>
    <script src="../../_/js/outscale-tabs.js"></script>
    <script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="120" data-stylesheet="../../_/css/outscale-search.css"></script>
<script async src="../../_/js/search-index.js"></script>
<script async src="../../_/js/search-page.js"></script>

    <script src="../../_/js/vendor/highlight.js"></script>
    <script async src="../../_/js/outscale-extra-highlight.js"></script>
    <script src="../../_/js/vendor/jstable.es5.min.js"></script>
    <script async src="../../_/js/outscale-tables.js"></script>
    <script async src="../../_/js/outscale-print.js"></script>
  </body>
</html>
